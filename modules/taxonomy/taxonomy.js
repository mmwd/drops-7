(function(a){Drupal.behaviors.termDrag={attach:function(c,d){var e=a("#taxonomy",c);var b=Drupal.tableDrag.taxonomy;var f=a("tr",e).length;b.row.prototype.onSwap=function(g){a("tr.taxonomy-term-preview",e).removeClass("taxonomy-term-preview");a("tr.taxonomy-term-divider-top",e).removeClass("taxonomy-term-divider-top");a("tr.taxonomy-term-divider-bottom",e).removeClass("taxonomy-term-divider-bottom");if(d.taxonomy.backStep){for(var h=0;h<d.taxonomy.backStep;h++){a(e[0].tBodies[0].rows[h]).addClass("taxonomy-term-preview")}a(e[0].tBodies[0].rows[d.taxonomy.backStep-1]).addClass("taxonomy-term-divider-top");a(e[0].tBodies[0].rows[d.taxonomy.backStep]).addClass("taxonomy-term-divider-bottom")}if(d.taxonomy.forwardStep){for(var h=f-d.taxonomy.forwardStep-1;h<f-1;h++){a(e[0].tBodies[0].rows[h]).addClass("taxonomy-term-preview")}a(e[0].tBodies[0].rows[f-d.taxonomy.forwardStep-2]).addClass("taxonomy-term-divider-top");a(e[0].tBodies[0].rows[f-d.taxonomy.forwardStep-1]).addClass("taxonomy-term-divider-bottom")}}}}})(jQuery);