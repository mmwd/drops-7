(function(a){Drupal.behaviors.shortcutDrag={attach:function(c,e){if(Drupal.tableDrag){var f=a("table#shortcuts"),g=0,d=0,b=Drupal.tableDrag.shortcuts;a("> tbody > tr, > tr",f).filter(":visible").filter(":odd").filter(".odd").removeClass("odd").addClass("even").end().end().filter(":even").filter(".even").removeClass("even").addClass("odd").end().end().end().filter(".shortcut-slot-empty").each(function(h){if(a(this).is(":visible")){g++}d++});b.row.prototype.onSwap=function(n){var k=a(f).find("tr").index(a(f).find("tr.shortcut-status-disabled"))-d-2,m=0;a(f).find("tr.shortcut-status-enabled").nextAll(":not(.shortcut-slot-empty)").each(function(o){if(o<k){m++}});var l=d-m;if(l==-1){var j=a(f).find("tr.shortcut-status-disabled");var h=j.prevAll(":not(.shortcut-slot-empty)").not(a(this.element)).get(0);j.after(h);if(a(h).hasClass("draggable")){var i=new b.row(h,"mouse",false,0,true);i.markChanged();b.rowStatusChange(i)}}else{if(l!=g){if(l>g){a(".shortcut-slot-empty:hidden:last").show();g++}else{a(".shortcut-slot-empty:visible:last").hide();g--}}}};b.onDrop=function(){b.rowStatusChange(this.rowObject);return true};b.rowStatusChange=function(k){var j=a(k.element).prevAll("tr.shortcut-status").get(0);var h=j.className.replace(/([^ ]+[ ]+)*shortcut-status-([^ ]+)([ ]+[^ ]+)*/,"$2");var i=a("select.shortcut-status-select",k.element);i.val(h)};b.restripeTable=function(){a("> tbody > tr:visible, > tr:visible",this.table).filter(":odd").filter(".odd").removeClass("odd").addClass("even").end().end().filter(":even").filter(".even").removeClass("even").addClass("odd")}}}};Drupal.behaviors.newSet={attach:function(c,d){var b=function(){a(this).closest("form").find(".form-item-set .form-type-radio:last input").attr("checked","checked")};a("div.form-item-new input").focus(b).keyup(b)}}})(jQuery);