(function(a){Drupal.behaviors.tableSelect={attach:function(b,c){a("th.select-all",b).closest("table").once("table-select",Drupal.tableSelect)}};Drupal.tableSelect=function(){if(a("td input:checkbox",this).length==0){return}var e=this,f,c;var b={selectAll:Drupal.t("Select all rows in this table"),selectNone:Drupal.t("Deselect all rows in this table")};var d=function(g){a(e).prev("table.sticky-header").andSelf().find("th.select-all input:checkbox").each(function(){a(this).attr("title",g?b.selectNone:b.selectAll);this.checked=g})};a("th.select-all",e).prepend(a('<input type="checkbox" class="form-checkbox" />').attr("title",b.selectAll)).click(function(g){if(a(g.target).is("input:checkbox")){f.each(function(){this.checked=g.target.checked;a(this).closest("tr").toggleClass("selected",this.checked)});d(g.target.checked)}});f=a("td input:checkbox:enabled",e).click(function(g){a(this).closest("tr").toggleClass("selected",this.checked);if(g.shiftKey&&c&&c!=g.target){Drupal.tableSelectRange(a(g.target).closest("tr")[0],a(c).closest("tr")[0],g.target.checked)}d((f.length==a(f).filter(":checked").length));c=g.target})};Drupal.tableSelectRange=function(f,e,c){var d=f.rowIndex>e.rowIndex?"previousSibling":"nextSibling";for(var b=f[d];b;b=b[d]){if(b.nodeType!=1){continue}a(b).toggleClass("selected",c);a("input:checkbox",b).each(function(){this.checked=c});if(e.nodeType){if(b==e){break}}else{if(a.filter(e,[b]).r.length){break}}}}})(jQuery);