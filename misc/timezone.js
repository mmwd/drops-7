(function(a){Drupal.behaviors.setTimezone={attach:function(b,c){a("select.timezone-detect",b).once("timezone",function(){var m=Date();var h=m.match(/\(([A-Z]{3,5})\)/);var l=h?h[1]:0;var j=new Date();var i=j.getTimezoneOffset()*-60;var e=new Date(j.getFullYear(),0,1,12,0,0,0);var f=new Date(j.getFullYear(),6,1,12,0,0,0);var n=e.getTimezoneOffset()*-60;var d=f.getTimezoneOffset()*-60;var k;if(n==d){k=""}else{if(Math.max(n,d)==i){k=1}else{k=0}}var o="system/timezone/"+l+"/"+i+"/"+k;var g=this;a.ajax({async:false,url:c.basePath,data:{q:o,date:m},dataType:"json",success:function(p){if(p){a(g).val(p)}}})})}}})(jQuery);