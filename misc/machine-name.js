(function(a){Drupal.behaviors.machineName={attach:function(c,d){var b=this;a.each(d.machineName,function(e,m){var l=a(e,c).addClass("machine-name-source");var f=a(m.target,c).addClass("machine-name-target");var i=a(m.suffix,c);var j=f.closest(".form-item");if(!l.length||!f.length||!i.length||!j.length){return}if(f.hasClass("error")){return}m.maxlength=f.attr("maxlength");j.hide();if(f.is(":disabled")||f.val()!=""){var h=f.val()}else{var h=b.transliterate(l.val(),m)}var g=a('<span class="machine-name-value">'+m.field_prefix+Drupal.checkPlain(h)+m.field_suffix+"</span>");i.empty();if(m.label){i.append(" ").append('<span class="machine-name-label">'+m.label+":</span>")}i.append(" ").append(g);if(f.is(":disabled")){return}var k=a('<span class="admin-link"><a href="#">'+Drupal.t("Edit")+"</a></span>").click(function(){j.show();f.focus();i.hide();l.unbind(".machineName");return false});i.append(" ").append(k);if(f.val()==""){l.bind("keyup.machineName change.machineName",function(){h=b.transliterate(a(this).val(),m);if(h!=""){if(h!=m.replace){f.val(h);g.html(m.field_prefix+Drupal.checkPlain(h)+m.field_suffix)}i.show()}else{i.hide();f.val(h);g.empty()}});l.keyup()}})},transliterate:function(c,b){var d=new RegExp(b.replace_pattern,"g");return c.toLowerCase().replace(d,b.replace).substr(0,b.maxlength)}}})(jQuery);